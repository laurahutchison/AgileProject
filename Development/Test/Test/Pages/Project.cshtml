@page
@model Test.Pages.ProjectModel
@{
    string name = Model._userService.GetNameById(Model.project.authorId);
    string names = Model._userService.GetNamesFromList(Model.project.coAuthorIds);
}
<section>
    <div class="container" style="padding: 0 73px">
        <h1 style="margin-left: 7px">@Model.project.title</h1>
        <p style="margin-left: 7px">@Model.project.description</p>
        <div class="flex">
            @foreach (var questionnaire in Model.questionnaires)
            {
                var random = new Random();
                List<string> primaryColours = new List<string> { "#4365e2ec", "#ff6264ec", "#01d17cec" };
                List<string> secondaryColours = new List<string> { "#f4cec3ec", "#ffecd2ec", "#d1e2f2ec", "#c4ebd0ec" };

                string degree = random.Next(0, 360).ToString() + "deg";
                string colour1 = primaryColours[random.Next(primaryColours.Count)];
                string colour2 = secondaryColours[random.Next(secondaryColours.Count)];

                string image = questionnaire.image;
                string background = "background-image: linear-gradient(" + degree + ", " + colour1 + ", " + colour2 + "), url('" + image + "');";

                string name2 = Model._userService.GetNameById(questionnaire.authorId);
                string names2 = Model._userService.GetNamesFromList(questionnaire.coAuthorIds);
                <a class="card" asp-area="" asp-page="/Questionnaire" asp-route-id="@questionnaire.id" asp-route-subpage="questions" style="@background">
                    <article class="">
                        <h2 class="title">@questionnaire.title</h2>
                        <p class="authors">
                            <strong>@name2</strong><br />
                            @names2
                        </p>
                    </article>
                </a>
            }
            <button class="card">
                <h1>+</h1>
            </button>
        </div>
        <p style="margin-left: 7px">
            <strong>Principle Researcher</strong> @name<br />
            <strong>Co-Researchers</strong> @names
        </p>
    </div>
</section>